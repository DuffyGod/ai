# AI发展模拟器 - 需求文档

## 引言

本项目旨在开发一款基于"人生重开模拟器"机制的网页游戏，玩家将扮演一款AI产品，体验从规划到发展的完整生命周期。游戏通过词条系统、属性分配和事件驱动的方式，模拟AI产品在真实世界中可能遇到的各种情况，内容取材自LLM相关新闻、缺陷、趣事和公众评价，以幽默风趣的方式呈现AI发展的多样性和不确定性。

## 需求

### 需求 1：落地页（主菜单）

**用户故事：** 作为一名玩家，我希望在进入游戏时看到一个清晰的主菜单页面，以便开始新游戏或了解游戏信息。

#### 验收标准

1. WHEN 玩家访问网站 THEN 系统 SHALL 显示落地页作为默认入口
2. WHEN 玩家在落地页 THEN 系统 SHALL 显示"开始游戏"按钮
3. WHEN 玩家点击"开始游戏"按钮 THEN 系统 SHALL 跳转到准备阶段页面
4. WHEN 游戏结束 THEN 系统 SHALL 返回到落地页
5. IF 落地页加载 THEN 系统 SHALL 展示游戏标题和简要说明
6. WHEN 落地页显示 THEN 系统 SHALL 使用现代化、美观的UI设计

### 需求 2：准备阶段 - 词条抽取

**用户故事：** 作为一名玩家，我希望通过"10连抽"机制获取随机词条，以便为我的AI产品选择核心特性。

#### 验收标准

1. WHEN 玩家进入准备阶段 THEN 系统 SHALL 显示"10连抽"按钮
2. WHEN 玩家点击"10连抽"按钮 THEN 系统 SHALL 从词条库中随机抽取10个词条
3. IF 玩家在上一局保留了词条 THEN 系统 SHALL 确保该词条出现在本次抽取结果中
4. WHEN 抽取词条 THEN 系统 SHALL 按照稀有度权重进行随机（白色权重最高，金色权重最低）
5. WHEN 抽取完成 THEN 系统 SHALL 自动进入词条选择界面
6. WHEN 显示抽取结果 THEN 系统 SHALL 以不同颜色标识词条稀有度（白色、蓝色、紫色、金色）

### 需求 3：准备阶段 - 词条选择

**用户故事：** 作为一名玩家，我希望从抽取的10个词条中选择3个，以便定制我的AI产品特性。

#### 验收标准

1. WHEN 进入词条选择界面 THEN 系统 SHALL 显示10个词条的名称和功能描述
2. WHEN 玩家点击词条 THEN 系统 SHALL 切换该词条的选中状态
3. IF 玩家已选择3个词条 THEN 系统 SHALL 禁止选择更多词条
4. IF 玩家已选择3个词条 THEN 系统 SHALL 显示"确认"按钮
5. IF 玩家选择少于3个词条 THEN 系统 SHALL 禁用"确认"按钮或提示需要选择3个
6. WHEN 玩家点击"确认"按钮 THEN 系统 SHALL 保存选中的词条并进入属性分配界面
7. WHEN 显示词条 THEN 系统 SHALL 使用卡片式布局展示词条信息

### 需求 4：准备阶段 - 属性分配

**用户故事：** 作为一名玩家，我希望为AI产品的5个核心属性分配10个决策点数，以便影响游戏中的事件走向。

#### 验收标准

1. WHEN 进入属性分配界面 THEN 系统 SHALL 显示5个核心属性面板（效率与规模、认知能力、可控度、适应能力、可解释性）
2. WHEN 进入属性分配界面 THEN 系统 SHALL 为每个属性随机生成初始值
3. WHEN 进入属性分配界面 THEN 系统 SHALL 提供10个决策点数供玩家分配
4. WHEN 玩家调整属性点数 THEN 系统 SHALL 实时更新剩余可分配点数
5. IF 玩家分配完所有10个点数 THEN 系统 SHALL 启用"开始体验"按钮
6. IF 玩家未分配完所有点数 THEN 系统 SHALL 禁用"开始体验"按钮或提示需要分配完毕
7. WHEN 玩家点击"开始体验"按钮 THEN 系统 SHALL 保存属性配置并进入体验阶段
8. WHEN 显示属性 THEN 系统 SHALL 清晰展示初始值和决策点数的区别

### 需求 5：体验阶段 - 页面布局

**用户故事：** 作为一名玩家，我希望在体验阶段看到清晰的信息展示和事件记录，以便了解AI产品的发展状态。

#### 验收标准

1. WHEN 进入体验阶段 THEN 系统 SHALL 在顶部显示当前资产和5个核心属性值
2. WHEN 进入体验阶段 THEN 系统 SHALL 在主体区域显示事件记录栏
3. WHEN 事件发生 THEN 系统 SHALL 按时间顺序在事件记录栏中展示事件内容
4. WHEN 显示事件 THEN 系统 SHALL 包含回合数、事件描述和影响结果
5. WHEN 页面加载 THEN 系统 SHALL 使用滚动方式展示历史事件
6. WHEN 新事件生成 THEN 系统 SHALL 自动滚动到最新事件位置

### 需求 6：体验阶段 - 事件生成机制

**用户故事：** 作为一名玩家，我希望通过点击交互推进游戏进程，以便体验AI产品的发展历程。

#### 验收标准

1. WHEN 玩家点击页面任意位置 THEN 系统 SHALL 生成一个新事件
2. WHEN 生成事件 THEN 系统 SHALL 基于当前回合数、词条、资产、属性、决策点数和状态标记进行筛选
3. WHEN 生成事件 THEN 系统 SHALL 从符合条件的事件库中随机选择一个事件
4. WHEN 事件生成 THEN 系统 SHALL 更新回合数（+1）
5. WHEN 事件生成 THEN 系统 SHALL 根据事件效果更新资产和属性值
6. IF 事件包含状态标记 THEN 系统 SHALL 记录该状态标记供后续事件判定使用
7. WHEN 事件显示 THEN 系统 SHALL 展示事件描述和对资产/属性的影响

### 需求 7：体验阶段 - 结局触发

**用户故事：** 作为一名玩家，我希望在满足特定条件时触发游戏结局，以便完成一次完整的游戏体验。

#### 验收标准

1. WHEN 满足结局触发条件 THEN 系统 SHALL 生成结局事件而非普通事件
2. IF 回合数达到高阈值 OR 资产降至低阈值 OR 触发特定状态标记 THEN 系统 SHALL 触发结局
3. WHEN 结局事件触发 THEN 系统 SHALL 详细展示结局的名称和描述
4. WHEN 结局展示 THEN 系统 SHALL 停止接受点击交互
5. WHEN 结局展示 THEN 系统 SHALL 显示词条保留选项
6. WHEN 结局展示 THEN 系统 SHALL 显示"返回主菜单"按钮

### 需求 8：词条保留机制

**用户故事：** 作为一名玩家，我希望在游戏结束后保留一个词条，以便在下一局游戏中继续使用。

#### 验收标准

1. WHEN 游戏结束 THEN 系统 SHALL 展示本局使用的3个词条
2. WHEN 展示词条 THEN 系统 SHALL 允许玩家选择其中一个进行保留
3. WHEN 玩家选择词条 THEN 系统 SHALL 将该词条保存到本地存储
4. WHEN 玩家开始新游戏 THEN 系统 SHALL 确保保留的词条出现在10连抽结果中
5. IF 玩家不选择保留词条 THEN 系统 SHALL 允许直接返回主菜单
6. WHEN 玩家返回主菜单 THEN 系统 SHALL 清除当前游戏状态（除保留词条外）

### 需求 9：词条系统设计

**用户故事：** 作为游戏设计者，我希望建立完善的词条系统，以便为玩家提供丰富的游戏体验。

#### 验收标准

1. WHEN 创建词条库 THEN 系统 SHALL 包含至少20个白色稀有度词条
2. WHEN 创建词条库 THEN 系统 SHALL 包含至少10个蓝色及以上稀有度词条
3. WHEN 定义词条 THEN 系统 SHALL 包含ID、名称、描述、稀有度、功能效果等属性
4. WHEN 词条生效 THEN 系统 SHALL 在事件判定时考虑词条的影响
5. IF 词条具有特殊能力 THEN 系统 SHALL 在准备阶段或体验阶段的任意环节产生影响
6. WHEN 维护词条 THEN 系统 SHALL 使用独立的JSON文件存储词条数据
7. WHEN 创建词条内容 THEN 系统 SHALL 确保内容幽默风趣，取材自LLM相关新闻、缺陷、趣事和公众评价

### 需求 10：事件系统设计

**用户故事：** 作为游戏设计者，我希望建立丰富的事件系统，以便为玩家提供多样化的游戏体验。

#### 验收标准

1. WHEN 创建事件库 THEN 系统 SHALL 包含至少20个影响发展方向的事件
2. WHEN 创建事件库 THEN 系统 SHALL 包含至少20个提供趣闻的无意义事件
3. WHEN 定义事件 THEN 系统 SHALL 包含ID、名称、描述、触发条件、效果、状态标记等属性
4. WHEN 定义触发条件 THEN 系统 SHALL 支持回合数、词条、资产、属性、决策点数、状态标记等多重约束
5. WHEN 定义事件效果 THEN 系统 SHALL 支持修改资产、属性值和添加状态标记
6. WHEN 维护事件 THEN 系统 SHALL 使用独立的JSON文件存储事件数据
7. WHEN 创建事件内容 THEN 系统 SHALL 确保内容幽默风趣，取材自LLM相关新闻、缺陷、趣事和公众评价
8. WHEN 定义结局事件 THEN 系统 SHALL 标记为特殊类型并设置特定触发条件

### 需求 11：数据持久化

**用户故事：** 作为一名玩家，我希望游戏能够保存我的进度和保留词条，以便在刷新页面后继续游戏。

#### 验收标准

1. WHEN 玩家保留词条 THEN 系统 SHALL 将词条信息保存到浏览器本地存储
2. WHEN 玩家开始新游戏 THEN 系统 SHALL 从本地存储读取保留词条
3. WHEN 游戏进行中 THEN 系统 SHALL 将当前游戏状态保存到本地存储
4. WHEN 页面刷新 THEN 系统 SHALL 恢复游戏状态或返回主菜单
5. WHEN 游戏结束 THEN 系统 SHALL 清除当前游戏状态（除保留词条外）

### 需求 12：用户界面设计

**用户故事：** 作为一名玩家，我希望游戏界面美观、现代且易于使用，以便获得良好的游戏体验。

#### 验收标准

1. WHEN 设计界面 THEN 系统 SHALL 使用现代化的UI组件和设计风格
2. WHEN 设计界面 THEN 系统 SHALL 使用Tailwind CSS实现响应式布局
3. WHEN 显示词条 THEN 系统 SHALL 使用不同颜色区分稀有度（白色、蓝色、紫色、金色）
4. WHEN 显示属性 THEN 系统 SHALL 使用进度条或数值清晰展示属性值
5. WHEN 显示事件 THEN 系统 SHALL 使用卡片式布局展示事件内容
6. WHEN 交互操作 THEN 系统 SHALL 提供清晰的视觉反馈（如按钮状态、选中效果）
7. WHEN 页面加载 THEN 系统 SHALL 使用平滑的过渡动画提升用户体验
8. WHEN 设计界面 THEN 系统 SHALL 确保在桌面和移动设备上都能良好显示

### 需求 13：游戏逻辑完整性

**用户故事：** 作为游戏开发者，我希望游戏逻辑完整且可扩展，以便支持游戏的长期维护和功能迭代。

#### 验收标准

1. WHEN 实现游戏逻辑 THEN 系统 SHALL 支持完整的游戏流程（落地页→准备阶段→体验阶段→结局→返回落地页）
2. WHEN 实现游戏逻辑 THEN 系统 SHALL 支持无限次重复游戏
3. WHEN 实现游戏逻辑 THEN 系统 SHALL 使用模块化代码结构便于维护
4. WHEN 实现游戏逻辑 THEN 系统 SHALL 将词条和事件数据与代码逻辑分离
5. WHEN 实现游戏逻辑 THEN 系统 SHALL 提供清晰的数据结构和接口定义
6. WHEN 实现游戏逻辑 THEN 系统 SHALL 处理边界情况（如事件库为空、无符合条件的事件等）
7. WHEN 实现游戏逻辑 THEN 系统 SHALL 确保随机性的公平性和可预测性

### 需求 14：内容创作规范

**用户故事：** 作为内容创作者，我希望有明确的内容创作规范，以便创作符合游戏风格的词条和事件。

#### 验收标准

1. WHEN 创作词条和事件 THEN 内容 SHALL 幽默风趣且富有创意
2. WHEN 创作词条和事件 THEN 内容 SHALL 取材自LLM相关新闻、缺陷、趣事和公众评价
3. WHEN 创作词条和事件 THEN 内容 SHALL 符合中国内容政策和腾讯内容政策
4. WHEN 创作词条和事件 THEN 内容 SHALL 避免敏感话题和负面引导
5. WHEN 创作词条 THEN 内容 SHALL 包含清晰的功能描述和游戏机制影响
6. WHEN 创作事件 THEN 内容 SHALL 包含合理的触发条件和效果设计
7. WHEN 创作结局事件 THEN 内容 SHALL 提供有趣且多样化的结局体验

## 技术约束

1. 项目必须使用纯静态页面实现，不使用Vue、React等框架
2. 使用Tailwind CSS进行样式设计
3. 使用ESModule语法组织JavaScript代码
4. 词条和事件数据使用JSON文件存储
5. 使用localStorage实现数据持久化
6. 确保代码结构清晰、可维护、可扩展
7. 页面必须包含With签名

## 成功标准

1. 玩家能够完整体验从落地页到游戏结束的完整流程
2. 词条抽取、选择和保留机制正常工作
3. 属性分配和事件生成逻辑正确执行
4. 事件触发条件和效果正确应用
5. 结局触发机制正常工作
6. 界面美观、交互流畅、用户体验良好
7. 游戏内容幽默风趣，符合主题设定
8. 支持多次重复游戏且保留词条机制正常工作
